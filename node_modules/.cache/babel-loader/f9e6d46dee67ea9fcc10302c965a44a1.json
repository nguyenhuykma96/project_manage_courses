{"ast":null,"code":"import _defineProperty from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\src\\\\components\\\\Home\\\\ProfileModal\\\\ProfileModal.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { actEditProfileRequest } from '../../../store/action/profile.acation.js';\nimport './ProfileModal.css';\nvar hoTenRegex = RegExp(/^(([A-Za-z]+[\\-\\']?)*([a-zA-Z_ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶ \"\"ẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]+)?\\s)+([A-Za-z]+[\\-\\']?)*([A-Za-z]+)?$/);\nvar emailRegex = RegExp(/^([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)@([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)[\\\\.]([a-zA-Z]{2,9})$/);\nvar soDTRegex = RegExp(/(09|01[2|6|8|9])+([0-9]{8})\\b/im); // const taiKhoanRegex = RegExp(\n//     /^(?=.{8,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/\n// );\n\nvar ProfileModal =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ProfileModal, _Component);\n\n  function ProfileModal(props) {\n    var _this;\n\n    _classCallCheck(this, ProfileModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProfileModal).call(this, props));\n\n    _this.componentWillReceiveProps = function (nextProps) {\n      _this.setState({\n        TaiKhoan: nextProps.userProfileFromStore.TaiKhoan,\n        // MatKhau: nextProps.userProfileFromStore.MatKhau,\n        HoTen: nextProps.userProfileFromStore.HoTen,\n        Email: nextProps.userProfileFromStore.Email,\n        SoDT: nextProps.userProfileFromStore.SoDT,\n        MaLoaiNguoiDung: nextProps.userProfileFromStore.MaLoaiNguoiDung\n      });\n    };\n\n    _this.shouldComponentUpdate = function (nextProps, nextState) {\n      console.log(nextProps);\n      console.log(nextState);\n      return true;\n    };\n\n    _this.componentDidUpdate = function (prevProps, prevState) {\n      console.log(prevProps);\n      console.log(prevState);\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      console.log(_this.state);\n      var nguoiDung = {\n        TaiKhoan: _this.state.TaiKhoan,\n        MatKhau: _this.state.MatKhau === '' ? _this.props.loginUser.MatKhau : _this.state.MatKhau,\n        // !== \" \" bang voi null, undefind, co value\n        HoTen: _this.state.HoTen,\n        Email: _this.state.Email,\n        SoDT: _this.state.SoDT,\n        MaLoaiNguoiDung: _this.state.MaLoaiNguoiDung\n      };\n\n      _this.props.editProfile(nguoiDung);\n\n      _this.refs.btnClose.click();\n    };\n\n    _this.handleOnChange = function (e) {\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var formErrors = _objectSpread({}, _this.state.formErrors);\n\n      switch (name) {\n        case \"HoTen\":\n          formErrors.HoTen = hoTenRegex.test(value) ? \"\" : \"invalid full name address\";\n          break;\n\n        case \"Email\":\n          formErrors.Email = emailRegex.test(value) ? \"\" : \"invalid email address\";\n          break;\n\n        case \"SoDT\":\n          formErrors.SoDT = soDTRegex.test(value) ? \"\" : \"invalid phone address\";\n          break;\n\n        case \"MatKhau\":\n          formErrors.MatKhau = value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState(_defineProperty({\n        formErrors: formErrors\n      }, name, value));\n    };\n\n    _this.state = {\n      TaiKhoan: '',\n      MatKhau: '',\n      HoTen: '',\n      Email: '',\n      SoDT: '',\n      MaLoaiNguoiDung: 'HV',\n      formErrors: {\n        HoTen: '',\n        Email: '',\n        SoDT: '',\n        TaiKhoan: '',\n        MatKhau: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ProfileModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          TaiKhoan = _this$state.TaiKhoan,\n          HoTen = _this$state.HoTen,\n          Email = _this$state.Email,\n          SoDT = _this$state.SoDT,\n          MaLoaiNguoiDung = _this$state.MaLoaiNguoiDung,\n          MatKhau = _this$state.MatKhau,\n          formErrors = _this$state.formErrors;\n      console.log(this.state);\n      return React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"editprofile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog  bg-modal \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"modal-title\",\n        style: {\n          fontSize: '25px',\n          fontWeight: '700'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Edit Profile\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"\\xD7\")), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"User\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: TaiKhoan,\n        readOnly: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        value: Email,\n        name: \"Email\",\n        onChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), formErrors.Email.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        style: {\n          marginLeft: '17%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, formErrors.Email)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"Full name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: HoTen,\n        name: \"HoTen\",\n        onChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }), formErrors.HoTen.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        style: {\n          marginLeft: '17%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, formErrors.HoTen)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: SoDT,\n        name: \"SoDT\",\n        onChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), formErrors.SoDT.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        style: {\n          marginLeft: '17%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, formErrors.SoDT)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control input-placeholder\",\n        placeholder: \"Enter password if don't want default password\",\n        value: MatKhau,\n        name: \"MatKhau\",\n        onChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), formErrors.MatKhau.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        style: {\n          marginLeft: '17%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, formErrors.MatKhau))), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        disabled: formErrors.HoTen !== '' || formErrors.Email !== '' || formErrors.SoDT !== '' || formErrors.MatKhau !== '' || HoTen === '' || Email === '' || SoDT === '' || MatKhau === '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Change\"), React.createElement(\"button\", {\n        type: \"button\",\n        ref: \"btnClose\",\n        className: \"btn btn-danger\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Close\"))))));\n    }\n  }]);\n\n  return ProfileModal;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userProfileFromStore: state.getProfileUser,\n    loginUser: state.loginUser\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    editProfile: function editProfile(user) {\n      dispatch(actEditProfileRequest(user));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileModal);","map":{"version":3,"sources":["D:\\Cybersoft front end\\ReactJS\\Đồ án cuối khóa\\manage-courses\\src\\components\\Home\\ProfileModal\\ProfileModal.js"],"names":["React","Component","connect","actEditProfileRequest","hoTenRegex","RegExp","emailRegex","soDTRegex","ProfileModal","props","componentWillReceiveProps","nextProps","setState","TaiKhoan","userProfileFromStore","HoTen","Email","SoDT","MaLoaiNguoiDung","shouldComponentUpdate","nextState","console","log","componentDidUpdate","prevProps","prevState","onSubmit","e","preventDefault","state","nguoiDung","MatKhau","loginUser","editProfile","refs","btnClose","click","handleOnChange","target","name","value","formErrors","test","length","fontSize","fontWeight","marginLeft","mapStateToProps","getProfileUser","mapDispatchToProps","dispatch","user"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { actEditProfileRequest } from '../../../store/action/profile.acation.js';\r\nimport './ProfileModal.css';\r\n\r\n\r\nconst hoTenRegex = RegExp(\r\n    /^(([A-Za-z]+[\\-\\']?)*([a-zA-Z_ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶ \"\"ẸẺẼỀỀỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]+)?\\s)+([A-Za-z]+[\\-\\']?)*([A-Za-z]+)?$/\r\n);\r\nconst emailRegex = RegExp(\r\n    /^([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)@([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)[\\\\.]([a-zA-Z]{2,9})$/\r\n);\r\nconst soDTRegex = RegExp(\r\n    /(09|01[2|6|8|9])+([0-9]{8})\\b/im\r\n);\r\n// const taiKhoanRegex = RegExp(\r\n//     /^(?=.{8,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/\r\n// );\r\nclass ProfileModal extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            TaiKhoan: '',\r\n            MatKhau: '',\r\n            HoTen: '',\r\n            Email: '',\r\n            SoDT: '',\r\n            MaLoaiNguoiDung: 'HV',\r\n            formErrors: {\r\n                HoTen: '',\r\n                Email: '',\r\n                SoDT: '',\r\n                TaiKhoan: '',\r\n                MatKhau: ''\r\n            }\r\n        }\r\n    }\r\n    componentWillReceiveProps = nextProps => {\r\n        this.setState({\r\n            TaiKhoan: nextProps.userProfileFromStore.TaiKhoan,\r\n            // MatKhau: nextProps.userProfileFromStore.MatKhau,\r\n            HoTen: nextProps.userProfileFromStore.HoTen,\r\n            Email: nextProps.userProfileFromStore.Email,\r\n            SoDT: nextProps.userProfileFromStore.SoDT,\r\n            MaLoaiNguoiDung: nextProps.userProfileFromStore.MaLoaiNguoiDung\r\n        })\r\n    }\r\n    shouldComponentUpdate= (nextProps, nextState) => {\r\n        console.log(nextProps);\r\n        console.log(nextState);\r\n        \r\n        return true;\r\n    }\r\n    componentDidUpdate = (prevProps, prevState) => {\r\n        console.log(prevProps);\r\n        console.log(prevState);\r\n        \r\n    }\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        console.log(this.state);\r\n        \r\n        let nguoiDung = {\r\n            TaiKhoan: this.state.TaiKhoan,\r\n            MatKhau:  this.state.MatKhau === '' ? this.props.loginUser.MatKhau : this.state.MatKhau , // !== \" \" bang voi null, undefind, co value\r\n            HoTen:  this.state.HoTen, \r\n            Email:  this.state.Email,\r\n            SoDT:  this.state.SoDT,\r\n            MaLoaiNguoiDung:  this.state.MaLoaiNguoiDung\r\n        };\r\n        this.props.editProfile(nguoiDung);\r\n        \r\n        this.refs.btnClose.click();        \r\n    }\r\n    handleOnChange = e => {\r\n        var { name, value } = e.target;\r\n        let formErrors = { ...this.state.formErrors };\r\n        switch (name) {\r\n            case \"HoTen\":\r\n                formErrors.HoTen = hoTenRegex.test(value) ? \"\" : \"invalid full name address\"\r\n                break;\r\n            case \"Email\":\r\n                formErrors.Email = emailRegex.test(value) ? \"\" : \"invalid email address\"\r\n                break;\r\n            case \"SoDT\":\r\n                formErrors.SoDT = soDTRegex.test(value) ? \"\" : \"invalid phone address\"\r\n                break;\r\n            case \"MatKhau\":\r\n                formErrors.MatKhau =\r\n                    value.length < 6 ? \"minimum 6 characaters required\" : \"\";\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            formErrors,\r\n            [name]: value\r\n        })\r\n\r\n    }\r\n    render() {\r\n        \r\n        var { TaiKhoan, HoTen, Email, SoDT, MaLoaiNguoiDung, MatKhau,formErrors } = this.state\r\n        console.log(this.state);\r\n\r\n        return (\r\n            <div className=\"modal fade\" id=\"editprofile\">\r\n                <div className=\"modal-dialog  bg-modal \">\r\n                    <div className=\"modal-content\">\r\n                        <form onSubmit={this.onSubmit}>\r\n\r\n                            {/* Modal Header */}\r\n                            <div className=\"modal-header\">\r\n                                <h4 className=\"modal-title\" style={{ fontSize: '25px', fontWeight: '700' }}>Edit Profile</h4>\r\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\">×</button>\r\n                            </div>\r\n                            {/* Modal body */}\r\n                            <div className=\"modal-body\">\r\n                                <div className=\"form-group\">\r\n                                    <label>User</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        value={TaiKhoan}\r\n                                        readOnly\r\n                                    />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        className=\"form-control\"\r\n                                        value={Email}\r\n                                        name=\"Email\"\r\n                                        onChange={this.handleOnChange}\r\n                                    />\r\n                                    {formErrors.Email.length > 0 && (\r\n                                    <span className=\"errorMessage\" style={{ marginLeft: '17%' }}>{formErrors.Email}</span>\r\n                                )}\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Full name</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        value={HoTen}\r\n                                        name=\"HoTen\"\r\n                                        onChange={this.handleOnChange}\r\n                                    />\r\n                                    {formErrors.HoTen.length > 0 && (\r\n                                    <span className=\"errorMessage\" style={{ marginLeft: '17%' }}>{formErrors.HoTen}</span>\r\n                                )}\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Phone</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        value={SoDT}\r\n                                        name=\"SoDT\"\r\n                                        onChange={this.handleOnChange}\r\n                                    />\r\n                                    {formErrors.SoDT.length > 0 && (\r\n                                    <span className=\"errorMessage\" style={{ marginLeft: '17%' }}>{formErrors.SoDT}</span>\r\n                                )}\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Password</label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        className=\"form-control input-placeholder\"\r\n                                        placeholder=\"Enter password if don't want default password\"\r\n                                        value={MatKhau}\r\n                                        name=\"MatKhau\"\r\n                                        onChange={this.handleOnChange}\r\n                                    />\r\n                                    {formErrors.MatKhau.length > 0 && (\r\n                                    <span className=\"errorMessage\" style={{ marginLeft: '17%' }}>{formErrors.MatKhau}</span>\r\n                                )}\r\n                                </div>\r\n\r\n                            </div>\r\n                            {/* Modal footer */}\r\n                            <div className=\"modal-footer\">\r\n                                <button \r\n                                    type=\"submit\" \r\n                                    className=\"btn btn-primary\"\r\n                                    disabled={\r\n                                            formErrors.HoTen !== '' ||\r\n                                            formErrors.Email !== '' ||\r\n                                            formErrors.SoDT !== '' ||\r\n                                            formErrors.MatKhau !== '' ||\r\n                                            HoTen === '' ||\r\n                                            Email === '' ||\r\n                                            SoDT === '' ||\r\n                                            MatKhau === ''\r\n                                        }\r\n                                    >Change</button>\r\n                                <button type=\"button\" ref=\"btnClose\" className=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\r\n                            </div>\r\n                        </form>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userProfileFromStore: state.getProfileUser,\r\n        loginUser : state.loginUser\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch, props) => {\r\n    return {\r\n        editProfile: user => {\r\n            dispatch(actEditProfileRequest(user));\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileModal);"]},"metadata":{},"sourceType":"module"}