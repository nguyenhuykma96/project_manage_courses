{"ast":null,"code":"import _defineProperty from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Cybersoft front end\\\\ReactJS\\\\\\u0110\\u1ED3 \\xE1n cu\\u1ED1i kh\\xF3a\\\\manage-courses\\\\src\\\\components\\\\Admin\\\\Modal_user.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { actAddUserRequest } from '../../store/action/user.action';\nvar taiKhoanRegex = RegExp(/^(?=.{8,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/);\nvar hoTenRegex = RegExp(/^(([A-Za-z]+[\\-\\']?)*([a-zA-Z_ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀẾỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]+)?\\s)+([A-Za-z]+[\\-\\']?)*([A-Za-z]+)?$/);\nvar emailRegex = RegExp(/^([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)@([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)[\\\\.]([a-zA-Z]{2,9})$/);\nvar soDTRegex = RegExp(/(09|01[2|6|8|9])+([0-9]{8})\\b/im);\n\nvar ModalUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ModalUser, _Component);\n\n  function ModalUser(props) {\n    var _this;\n\n    _classCallCheck(this, ModalUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ModalUser).call(this, props));\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          TaiKhoan = _this$state.TaiKhoan,\n          HoTen = _this$state.HoTen,\n          Email = _this$state.Email,\n          SoDT = _this$state.SoDT,\n          MatKhau = _this$state.MatKhau,\n          MaLoaiNguoiDung = _this$state.MaLoaiNguoiDung;\n      var user = {\n        TaiKhoan: TaiKhoan,\n        MatKhau: MatKhau,\n        HoTen: HoTen,\n        Email: Email,\n        SoDT: SoDT,\n        MaLoaiNguoiDung: MaLoaiNguoiDung\n      };\n\n      _this.props.addUser(user);\n\n      _this.setState({\n        TaiKhoan: '',\n        MatKhau: '',\n        HoTen: '',\n        Email: '',\n        SoDT: '',\n        MaLoaiNguoiDung: ''\n      });\n\n      _this.refs.btnClose.click();\n    };\n\n    _this.handleOnChange = function (e) {\n      var name = e.target.name;\n      var value = e.target.checked ? e.target.value : '';\n\n      var formErrors = _objectSpread({}, _this.state.formErrors);\n\n      switch (name) {\n        case \"TaiKhoan\":\n          formErrors.TaiKhoan = taiKhoanRegex.test(value) ? \"\" : \"invalid username!\";\n          break;\n\n        case \"HoTen\":\n          formErrors.HoTen = hoTenRegex.test(value) ? \"\" : \"invalid full name !\";\n          break;\n\n        case \"Email\":\n          formErrors.Email = emailRegex.test(value) ? \"\" : \"invalid email address!\";\n          break;\n\n        case \"SoDT\":\n          formErrors.SoDT = soDTRegex.test(value) ? \"\" : \"invalid phone!\";\n          break;\n\n        case \"MatKhau\":\n          formErrors.MatKhau = value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n          break;\n\n        case \"MaLoaiNguoiDung\":\n          formErrors.MaLoaiNguoiDung = !value ? \"Please select !\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState(_defineProperty({\n        formErrors: formErrors\n      }, name, value));\n    };\n\n    _this.state = {\n      TaiKhoan: '',\n      MatKhau: '',\n      HoTen: '',\n      Email: '',\n      SoDT: '',\n      MaLoaiNguoiDung: '',\n      formErrors: {\n        HoTen: '',\n        Email: '',\n        SoDT: '',\n        TaiKhoan: '',\n        MatKhau: '',\n        MaLoaiNguoiDung: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ModalUser, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({\n        TaiKhoan: nextProps.saveUserEditing.TaiKhoan,\n        Email: nextProps.saveUserEditing.Email,\n        HoTen: nextProps.saveUserEditing.HoTen,\n        SoDT: nextProps.saveUserEditing.SoDT,\n        MatKhau: nextProps.saveUserEditing.MatKhau,\n        MaLoaiNguoiDung: nextProps.saveUserEditing.MaLoaiNguoiDung // HV or GV\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          TaiKhoan = _this$state2.TaiKhoan,\n          HoTen = _this$state2.HoTen,\n          Email = _this$state2.Email,\n          SoDT = _this$state2.SoDT,\n          MatKhau = _this$state2.MatKhau,\n          formErrors = _this$state2.formErrors,\n          MaLoaiNguoiDung = _this$state2.MaLoaiNguoiDung;\n      return React.createElement(\"div\", {\n        className: \"modal fade\",\n        id: \"action_user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-dialog  bg-modal \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"modal-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"modal-title\",\n        style: {\n          fontSize: '25px',\n          fontWeight: '700'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Add User\"), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"\\xD7\")), React.createElement(\"div\", {\n        className: \"modal-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"User name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"TaiKhoan\",\n        value: TaiKhoan,\n        onChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }), formErrors.TaiKhoan.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, formErrors.TaiKhoan)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"email\",\n        className: \"form-control\",\n        value: Email,\n        name: \"Email\",\n        onChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), formErrors.Email.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, formErrors.Email)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Full name\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: HoTen,\n        name: \"HoTen\",\n        onChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), formErrors.HoTen.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, formErrors.HoTen)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: SoDT,\n        name: \"SoDT\",\n        onChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }), formErrors.SoDT.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, formErrors.SoDT)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control input-placeholder\",\n        value: MatKhau,\n        name: \"MatKhau\",\n        onChange: this.handleOnChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }), formErrors.MatKhau.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, formErrors.MatKhau)), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-check-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"form-check-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        onChange: this.handleOnChange,\n        name: \"MaLoaiNguoiDung\",\n        value: MaLoaiNguoiDung,\n        checked: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }), \"H\\u1ECDc vi\\xEAn\")), React.createElement(\"div\", {\n        className: \"form-check-inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"form-check-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        onChange: this.handleOnChange,\n        name: \"MaLoaiNguoiDung\",\n        value: MaLoaiNguoiDung,\n        checked: false,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }), \"Gi\\xE1o v\\u1EE5\")), formErrors.MaLoaiNguoiDung.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, formErrors.MaLoaiNguoiDung))), React.createElement(\"div\", {\n        className: \"modal-footer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        disabled: formErrors.HoTen !== '' || formErrors.Email !== '' || formErrors.SoDT !== '' || formErrors.MatKhau !== '' || formErrors.MaLoaiNguoiDung !== '' || HoTen === '' || Email === '' || SoDT === '' || MatKhau === '' || TaiKhoan === '' || MaLoaiNguoiDung === '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Add New\"), React.createElement(\"button\", {\n        type: \"button\",\n        ref: \"btnClose\",\n        className: \"btn btn-danger\",\n        \"data-dismiss\": \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, \"Close\"))))));\n    }\n  }]);\n\n  return ModalUser;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  console.log(state.userEditing);\n  return {\n    saveUserEditing: state.userEditing\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addUser: function addUser(user) {\n      dispatch(actAddUserRequest(user));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalUser);","map":{"version":3,"sources":["D:\\Cybersoft front end\\ReactJS\\Đồ án cuối khóa\\manage-courses\\src\\components\\Admin\\Modal_user.js"],"names":["React","Component","connect","actAddUserRequest","taiKhoanRegex","RegExp","hoTenRegex","emailRegex","soDTRegex","ModalUser","props","onSubmit","e","preventDefault","state","TaiKhoan","HoTen","Email","SoDT","MatKhau","MaLoaiNguoiDung","user","addUser","setState","refs","btnClose","click","handleOnChange","name","target","value","checked","formErrors","test","length","nextProps","saveUserEditing","fontSize","fontWeight","mapStateToProps","console","log","userEditing","mapDispatchToProps","dispatch"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,iBAAT,QAAkC,gCAAlC;AAEA,IAAMC,aAAa,GAAGC,MAAM,CACxB,4DADwB,CAA5B;AAGA,IAAMC,UAAU,GAAGD,MAAM,CACrB,+MADqB,CAAzB;AAGA,IAAME,UAAU,GAAGF,MAAM,CACrB,iGADqB,CAAzB;AAGA,IAAMG,SAAS,GAAGH,MAAM,CACpB,iCADoB,CAAxB;;IAIMI,S;;;;;AACF,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,mFAAMA,KAAN;;AADe,UAmBnBC,QAnBmB,GAmBR,UAAAC,CAAC,EAAI;AACZA,MAAAA,CAAC,CAACC,cAAF;AADY,wBAEqD,MAAKC,KAF1D;AAAA,UAENC,QAFM,eAENA,QAFM;AAAA,UAEIC,KAFJ,eAEIA,KAFJ;AAAA,UAEWC,KAFX,eAEWA,KAFX;AAAA,UAEkBC,IAFlB,eAEkBA,IAFlB;AAAA,UAEwBC,OAFxB,eAEwBA,OAFxB;AAAA,UAEiCC,eAFjC,eAEiCA,eAFjC;AAGZ,UAAIC,IAAI,GAAG;AACPN,QAAAA,QAAQ,EAAEA,QADH;AAEPI,QAAAA,OAAO,EAAEA,OAFF;AAGPH,QAAAA,KAAK,EAAEA,KAHA;AAIPC,QAAAA,KAAK,EAAEA,KAJA;AAKPC,QAAAA,IAAI,EAAEA,IALC;AAMPE,QAAAA,eAAe,EAAEA;AANV,OAAX;;AAQA,YAAKV,KAAL,CAAWY,OAAX,CAAmBD,IAAnB;;AACA,YAAKE,QAAL,CAAc;AACVR,QAAAA,QAAQ,EAAE,EADA;AAEVI,QAAAA,OAAO,EAAE,EAFC;AAGVH,QAAAA,KAAK,EAAE,EAHG;AAIVC,QAAAA,KAAK,EAAE,EAJG;AAKVC,QAAAA,IAAI,EAAE,EALI;AAMVE,QAAAA,eAAe,EAAE;AANP,OAAd;;AAQA,YAAKI,IAAL,CAAUC,QAAV,CAAmBC,KAAnB;AACH,KAxCkB;;AAAA,UAyCnBC,cAzCmB,GAyCF,UAAAf,CAAC,EAAI;AAAA,UACZgB,IADY,GACHhB,CAAC,CAACiB,MADC,CACZD,IADY;AAElB,UAAKE,KAAK,GAAIlB,CAAC,CAACiB,MAAF,CAASE,OAAT,GAAmBnB,CAAC,CAACiB,MAAF,CAASC,KAA5B,GAAoC,EAAlD;;AACA,UAAIE,UAAU,qBAAQ,MAAKlB,KAAL,CAAWkB,UAAnB,CAAd;;AACA,cAAQJ,IAAR;AACI,aAAK,UAAL;AACII,UAAAA,UAAU,CAACjB,QAAX,GAAsBX,aAAa,CAAC6B,IAAd,CAAmBH,KAAnB,IAA4B,EAA5B,GAAiC,mBAAvD;AACA;;AACJ,aAAK,OAAL;AACIE,UAAAA,UAAU,CAAChB,KAAX,GAAmBV,UAAU,CAAC2B,IAAX,CAAgBH,KAAhB,IAAyB,EAAzB,GAA8B,qBAAjD;AACA;;AACJ,aAAK,OAAL;AACIE,UAAAA,UAAU,CAACf,KAAX,GAAmBV,UAAU,CAAC0B,IAAX,CAAgBH,KAAhB,IAAyB,EAAzB,GAA8B,wBAAjD;AACA;;AACJ,aAAK,MAAL;AACIE,UAAAA,UAAU,CAACd,IAAX,GAAkBV,SAAS,CAACyB,IAAV,CAAeH,KAAf,IAAwB,EAAxB,GAA6B,gBAA/C;AACA;;AACJ,aAAK,SAAL;AACIE,UAAAA,UAAU,CAACb,OAAX,GACIW,KAAK,CAACI,MAAN,GAAe,CAAf,GAAmB,gCAAnB,GAAsD,EAD1D;AAEA;;AACJ,aAAK,iBAAL;AACIF,UAAAA,UAAU,CAACZ,eAAX,GACI,CAACU,KAAD,GAAS,iBAAT,GAA6B,EADjC;AAEA;;AACJ;AACI;AAtBR;;AAwBA,YAAKP,QAAL;AACIS,QAAAA,UAAU,EAAVA;AADJ,SAEKJ,IAFL,EAEYE,KAFZ;AAIH,KAzEkB;;AAEf,UAAKhB,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,EADD;AAETI,MAAAA,OAAO,EAAE,EAFA;AAGTH,MAAAA,KAAK,EAAE,EAHE;AAITC,MAAAA,KAAK,EAAE,EAJE;AAKTC,MAAAA,IAAI,EAAE,EALG;AAMTE,MAAAA,eAAe,EAAE,EANR;AAOTY,MAAAA,UAAU,EAAE;AACRhB,QAAAA,KAAK,EAAE,EADC;AAERC,QAAAA,KAAK,EAAE,EAFC;AAGRC,QAAAA,IAAI,EAAE,EAHE;AAIRH,QAAAA,QAAQ,EAAE,EAJF;AAKRI,QAAAA,OAAO,EAAE,EALD;AAMRC,QAAAA,eAAe,EAAE;AANT;AAPH,KAAb;AAFe;AAkBlB;;;;8CAwDyBe,S,EAAU;AAChC,WAAKZ,QAAL,CAAc;AACVR,QAAAA,QAAQ,EAAGoB,SAAS,CAACC,eAAV,CAA0BrB,QAD3B;AAEVE,QAAAA,KAAK,EAAGkB,SAAS,CAACC,eAAV,CAA0BnB,KAFxB;AAGVD,QAAAA,KAAK,EAAGmB,SAAS,CAACC,eAAV,CAA0BpB,KAHxB;AAIVE,QAAAA,IAAI,EAAGiB,SAAS,CAACC,eAAV,CAA0BlB,IAJvB;AAKVC,QAAAA,OAAO,EAAGgB,SAAS,CAACC,eAAV,CAA0BjB,OAL1B;AAMVC,QAAAA,eAAe,EAAGe,SAAS,CAACC,eAAV,CAA0BhB,eANlC,CAMmD;;AANnD,OAAd;AASH;;;6BACQ;AAAA,yBACwE,KAAKN,KAD7E;AAAA,UACCC,QADD,gBACCA,QADD;AAAA,UACWC,KADX,gBACWA,KADX;AAAA,UACkBC,KADlB,gBACkBA,KADlB;AAAA,UACyBC,IADzB,gBACyBA,IADzB;AAAA,UAC+BC,OAD/B,gBAC+BA,OAD/B;AAAA,UACwCa,UADxC,gBACwCA,UADxC;AAAA,UACoDZ,eADpD,gBACoDA,eADpD;AAGL,aACI;AAAK,QAAA,SAAS,EAAC,YAAf;AAA4B,QAAA,EAAE,EAAC,aAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,QAAQ,EAAE,KAAKT,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,SAAS,EAAC,aAAd;AAA4B,QAAA,KAAK,EAAE;AAAE0B,UAAAA,QAAQ,EAAE,MAAZ;AAAoBC,UAAAA,UAAU,EAAE;AAAhC,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,OAAhC;AAAwC,wBAAa,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CAFJ,EAOI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAC,cAFd;AAGI,QAAA,IAAI,EAAC,UAHT;AAII,QAAA,KAAK,EAAEvB,QAJX;AAKI,QAAA,QAAQ,EAAE,KAAKY,cALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EASKK,UAAU,CAACjB,QAAX,CAAoBmB,MAApB,GAA6B,CAA7B,IACG;AAAM,QAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCF,UAAU,CAACjB,QAA3C,CAVR,CADJ,EAcI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AACI,QAAA,IAAI,EAAC,OADT;AAEI,QAAA,SAAS,EAAC,cAFd;AAGI,QAAA,KAAK,EAAEE,KAHX;AAII,QAAA,IAAI,EAAC,OAJT;AAKI,QAAA,QAAQ,EAAE,KAAKU,cALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EASKK,UAAU,CAACf,KAAX,CAAiBiB,MAAjB,GAA0B,CAA1B,IACG;AAAM,QAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCF,UAAU,CAACf,KAA3C,CAVR,CAdJ,EA2BI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAEI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAC,cAFd;AAGI,QAAA,KAAK,EAAED,KAHX;AAII,QAAA,IAAI,EAAC,OAJT;AAKI,QAAA,QAAQ,EAAE,KAAKW,cALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EASKK,UAAU,CAAChB,KAAX,CAAiBkB,MAAjB,GAA0B,CAA1B,IACG;AAAM,QAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCF,UAAU,CAAChB,KAA3C,CAVR,CA3BJ,EAwCI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAEI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,SAAS,EAAC,cAFd;AAGI,QAAA,KAAK,EAAEE,IAHX;AAII,QAAA,IAAI,EAAC,MAJT;AAKI,QAAA,QAAQ,EAAE,KAAKS,cALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EASKK,UAAU,CAACd,IAAX,CAAgBgB,MAAhB,GAAyB,CAAzB,IACG;AAAM,QAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCF,UAAU,CAACd,IAA3C,CAVR,CAxCJ,EAqDI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AACI,QAAA,IAAI,EAAC,UADT;AAEI,QAAA,SAAS,EAAC,gCAFd;AAGI,QAAA,KAAK,EAAEC,OAHX;AAII,QAAA,IAAI,EAAC,SAJT;AAKI,QAAA,QAAQ,EAAE,KAAKQ,cALnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EASKK,UAAU,CAACb,OAAX,CAAmBe,MAAnB,GAA4B,CAA5B,IACG;AAAM,QAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCF,UAAU,CAACb,OAA3C,CAVR,CArDJ,EAkEI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,SAAS,EAAC,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,IAAI,EAAC,OADT;AAEI,QAAA,QAAQ,EAAE,KAAKQ,cAFnB;AAGI,QAAA,IAAI,EAAC,iBAHT;AAII,QAAA,KAAK,EAAEP,eAJX;AAKI,QAAA,OAAO,EAAE,KALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,qBADJ,CADJ,EAYI;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,SAAS,EAAC,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,IAAI,EAAC,OADT;AAEI,QAAA,QAAQ,EAAE,KAAKO,cAFnB;AAGI,QAAA,IAAI,EAAC,iBAHT;AAII,QAAA,KAAK,EAAEP,eAJX;AAKI,QAAA,OAAO,EAAE,KALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,oBADJ,CAZJ,EAuBKY,UAAU,CAACZ,eAAX,CAA2Bc,MAA3B,GAAoC,CAApC,IACG;AAAM,QAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCF,UAAU,CAACZ,eAA3C,CAxBR,CAlEJ,CAPJ,EAsGI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AACI,QAAA,IAAI,EAAC,QADT;AAEI,QAAA,SAAS,EAAC,iBAFd;AAGI,QAAA,QAAQ,EACJY,UAAU,CAAChB,KAAX,KAAqB,EAArB,IACAgB,UAAU,CAACf,KAAX,KAAqB,EADrB,IAEAe,UAAU,CAACd,IAAX,KAAoB,EAFpB,IAGAc,UAAU,CAACb,OAAX,KAAuB,EAHvB,IAIAa,UAAU,CAACZ,eAAX,KAA+B,EAJ/B,IAKAJ,KAAK,KAAK,EALV,IAMAC,KAAK,KAAK,EANV,IAOAC,IAAI,KAAK,EAPT,IAQAC,OAAO,KAAK,EARZ,IASAJ,QAAQ,KAAK,EATb,IAUAK,eAAe,KAAK,EAd5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAkBI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,GAAG,EAAC,UAA1B;AAAqC,QAAA,SAAS,EAAC,gBAA/C;AAAgE,wBAAa,OAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAlBJ,CAtGJ,CADJ,CADJ,CADJ,CADJ;AAmIH;;;;EA5NmBnB,S;;AA8NxB,IAAMsC,eAAe,GAAG,SAAlBA,eAAkB,CAAAzB,KAAK,EAAI;AAC7B0B,EAAAA,OAAO,CAACC,GAAR,CAAY3B,KAAK,CAAC4B,WAAlB;AAEA,SAAO;AACHN,IAAAA,eAAe,EAAGtB,KAAK,CAAC4B;AADrB,GAAP;AAGH,CAND;;AAOA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ,EAAI;AACnC,SAAO;AACHtB,IAAAA,OAAO,EAAE,iBAACD,IAAD,EAAU;AACfuB,MAAAA,QAAQ,CAACzC,iBAAiB,CAACkB,IAAD,CAAlB,CAAR;AACH;AAHE,GAAP;AAMH,CAPD;;AAQA,eAAenB,OAAO,CAACqC,eAAD,EAAkBI,kBAAlB,CAAP,CAA6ClC,SAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { actAddUserRequest } from '../../store/action/user.action';\r\n\r\nconst taiKhoanRegex = RegExp(\r\n    /^(?=.{8,20}$)(?![_.])(?!.*[_.]{2})[a-zA-Z0-9._]+(?<![_.])$/\r\n);\r\nconst hoTenRegex = RegExp(\r\n    /^(([A-Za-z]+[\\-\\']?)*([a-zA-Z_ÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚĂĐĨŨƠàáâãèéêìíòóôõùúăđĩũơƯĂẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼỀẾỂưăạảấầẩẫậắằẳẵặẹẻẽềềểỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪễệỉịọỏốồổỗộớờởỡợụủứừỬỮỰỲỴÝỶỸửữựỳỵỷỹ]+)?\\s)+([A-Za-z]+[\\-\\']?)*([A-Za-z]+)?$/\r\n);\r\nconst emailRegex = RegExp(\r\n    /^([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)@([0-9a-zA-Z]([-_\\\\.]*[0-9a-zA-Z]+)*)[\\\\.]([a-zA-Z]{2,9})$/\r\n);\r\nconst soDTRegex = RegExp(\r\n    /(09|01[2|6|8|9])+([0-9]{8})\\b/im\r\n);\r\n\r\nclass ModalUser extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            TaiKhoan: '',\r\n            MatKhau: '',\r\n            HoTen: '',\r\n            Email: '',\r\n            SoDT: '',\r\n            MaLoaiNguoiDung: '',\r\n            formErrors: {\r\n                HoTen: '',\r\n                Email: '',\r\n                SoDT: '',\r\n                TaiKhoan: '',\r\n                MatKhau: '',\r\n                MaLoaiNguoiDung: ''\r\n            }\r\n        }\r\n    }\r\n    onSubmit = e => {\r\n        e.preventDefault();\r\n        var { TaiKhoan, HoTen, Email, SoDT, MatKhau, MaLoaiNguoiDung } = this.state\r\n        var user = {\r\n            TaiKhoan: TaiKhoan,\r\n            MatKhau: MatKhau,\r\n            HoTen: HoTen,\r\n            Email: Email,\r\n            SoDT: SoDT,\r\n            MaLoaiNguoiDung: MaLoaiNguoiDung\r\n        }\r\n        this.props.addUser(user);\r\n        this.setState({\r\n            TaiKhoan: '',\r\n            MatKhau: '',\r\n            HoTen: '',\r\n            Email: '',\r\n            SoDT: '',\r\n            MaLoaiNguoiDung: '',\r\n        })\r\n        this.refs.btnClose.click();\r\n    }\r\n    handleOnChange = e => {\r\n        let { name } = e.target;\r\n        let  value  = e.target.checked ? e.target.value : '';\r\n        let formErrors = { ...this.state.formErrors };\r\n        switch (name) {\r\n            case \"TaiKhoan\":\r\n                formErrors.TaiKhoan = taiKhoanRegex.test(value) ? \"\" : \"invalid username!\"\r\n                break;\r\n            case \"HoTen\":\r\n                formErrors.HoTen = hoTenRegex.test(value) ? \"\" : \"invalid full name !\"\r\n                break;\r\n            case \"Email\":\r\n                formErrors.Email = emailRegex.test(value) ? \"\" : \"invalid email address!\"\r\n                break;\r\n            case \"SoDT\":\r\n                formErrors.SoDT = soDTRegex.test(value) ? \"\" : \"invalid phone!\"\r\n                break;\r\n            case \"MatKhau\":\r\n                formErrors.MatKhau =\r\n                    value.length < 6 ? \"minimum 6 characaters required\" : \"\";\r\n                break;\r\n            case \"MaLoaiNguoiDung\":\r\n                formErrors.MaLoaiNguoiDung =\r\n                    !value ? \"Please select !\" : \"\"; \r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({\r\n            formErrors,\r\n            [name]: value\r\n        })\r\n    }\r\n    componentWillReceiveProps(nextProps){\r\n        this.setState({\r\n            TaiKhoan : nextProps.saveUserEditing.TaiKhoan,\r\n            Email : nextProps.saveUserEditing.Email,\r\n            HoTen : nextProps.saveUserEditing.HoTen,\r\n            SoDT : nextProps.saveUserEditing.SoDT,\r\n            MatKhau : nextProps.saveUserEditing.MatKhau,\r\n            MaLoaiNguoiDung : nextProps.saveUserEditing.MaLoaiNguoiDung  // HV or GV\r\n        })\r\n        \r\n    }\r\n    render() {\r\n        var { TaiKhoan, HoTen, Email, SoDT, MatKhau, formErrors, MaLoaiNguoiDung } = this.state\r\n\r\n        return (\r\n            <div className=\"modal fade\" id=\"action_user\">\r\n                <div className=\"modal-dialog  bg-modal \">\r\n                    <div className=\"modal-content\">\r\n                        <form onSubmit={this.onSubmit}>\r\n                            {/* Modal Header */}\r\n                            <div className=\"modal-header\">\r\n                                <h4 className=\"modal-title\" style={{ fontSize: '25px', fontWeight: '700' }}>Add User</h4>\r\n                                <button type=\"button\" className=\"close\" data-dismiss=\"modal\">×</button>\r\n                            </div>\r\n                            {/* Modal body */}\r\n                            <div className=\"modal-body\">\r\n                                <div className=\"form-group\">\r\n                                    <label>User name</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        name=\"TaiKhoan\"\r\n                                        value={TaiKhoan}\r\n                                        onChange={this.handleOnChange}\r\n                                    />\r\n                                    {formErrors.TaiKhoan.length > 0 && (\r\n                                        <span className=\"errorMessage\">{formErrors.TaiKhoan}</span>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Email</label>\r\n                                    <input\r\n                                        type=\"email\"\r\n                                        className=\"form-control\"\r\n                                        value={Email}\r\n                                        name=\"Email\"\r\n                                        onChange={this.handleOnChange}\r\n                                    />\r\n                                    {formErrors.Email.length > 0 && (\r\n                                        <span className=\"errorMessage\">{formErrors.Email}</span>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label>Full name</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        value={HoTen}\r\n                                        name=\"HoTen\"\r\n                                        onChange={this.handleOnChange}\r\n                                    />\r\n                                    {formErrors.HoTen.length > 0 && (\r\n                                        <span className=\"errorMessage\">{formErrors.HoTen}</span>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Phone</label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        className=\"form-control\"\r\n                                        value={SoDT}\r\n                                        name=\"SoDT\"\r\n                                        onChange={this.handleOnChange}\r\n                                    />\r\n                                    {formErrors.SoDT.length > 0 && (\r\n                                        <span className=\"errorMessage\">{formErrors.SoDT}</span>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label >Password</label>\r\n                                    <input\r\n                                        type=\"password\"\r\n                                        className=\"form-control input-placeholder\"\r\n                                        value={MatKhau}\r\n                                        name=\"MatKhau\"\r\n                                        onChange={this.handleOnChange}\r\n                                    />\r\n                                    {formErrors.MatKhau.length > 0 && (\r\n                                        <span className=\"errorMessage\">{formErrors.MatKhau}</span>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <div className=\"form-check-inline\">\r\n                                        <label className=\"form-check-label\">\r\n                                            <input\r\n                                                type=\"radio\"\r\n                                                onChange={this.handleOnChange}\r\n                                                name=\"MaLoaiNguoiDung\"\r\n                                                value={MaLoaiNguoiDung}\r\n                                                checked={false}\r\n                                            />Học viên\r\n                                        </label>\r\n                                    </div>\r\n                                    <div className=\"form-check-inline\">\r\n                                        <label className=\"form-check-label\">\r\n                                            <input\r\n                                                type=\"radio\"\r\n                                                onChange={this.handleOnChange}\r\n                                                name=\"MaLoaiNguoiDung\"\r\n                                                value={MaLoaiNguoiDung}\r\n                                                checked={false}\r\n                                            />Giáo vụ\r\n                                        </label>\r\n                                    </div>\r\n                                    {formErrors.MaLoaiNguoiDung.length > 0 && (\r\n                                        <span className=\"errorMessage\">{formErrors.MaLoaiNguoiDung}</span>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                            {/* Modal footer */}\r\n                            <div className=\"modal-footer\">\r\n                                <button\r\n                                    type=\"submit\"\r\n                                    className=\"btn btn-primary\"\r\n                                    disabled={\r\n                                        formErrors.HoTen !== '' ||\r\n                                        formErrors.Email !== '' ||\r\n                                        formErrors.SoDT !== '' ||\r\n                                        formErrors.MatKhau !== '' ||\r\n                                        formErrors.MaLoaiNguoiDung !== '' ||\r\n                                        HoTen === '' ||\r\n                                        Email === '' ||\r\n                                        SoDT === '' ||\r\n                                        MatKhau === '' ||\r\n                                        TaiKhoan === '' ||\r\n                                        MaLoaiNguoiDung === ''\r\n                                    }\r\n                                >Add New</button>\r\n                                <button type=\"button\" ref=\"btnClose\" className=\"btn btn-danger\" data-dismiss=\"modal\">Close</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    console.log(state.userEditing);\r\n    \r\n    return {\r\n        saveUserEditing : state.userEditing\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        addUser: (user) => {\r\n            dispatch(actAddUserRequest(user));\r\n        },\r\n        \r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ModalUser)\r\n"]},"metadata":{},"sourceType":"module"}