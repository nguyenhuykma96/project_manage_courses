{"ast":null,"code":"import * as Types from './../constants/ActionTypes';\nimport { Profile } from \"./../../services/auth.service\";\nimport { Redirect } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nvar profile = new Profile();\nexport var actGetInfoUser = function actGetInfoUser(userProfile) {\n  return {\n    type: Types.GET_INFO_USER,\n    userProfile: userProfile\n  };\n};\nexport var actGetInfoUserRequest = function actGetInfoUserRequest(taiKhoan) {\n  return function (dispatch) {\n    return profile.getProfile(taiKhoan).then(function (res) {\n      dispatch(actGetInfoUser(res.data[0]));\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n};\nexport var actEditProfile = function actEditProfile(user) {\n  return {\n    type: Types.EDIT_PROFILE,\n    user: user\n  };\n};\nexport var actEditProfileRequest = function actEditProfileRequest(user) {\n  return function (dispatch) {\n    return profile.updateProfile(user).then(function (res) {\n      dispatch(actEditProfile(user));\n\n      if (res.data) {\n        var Toast = Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000\n        });\n        Toast.fire({\n          type: 'success',\n          title: 'Change Profile Done !'\n        });\n      }\n    }).catch(function (err) {\n      alert(\"Server fail\");\n    });\n  };\n};","map":{"version":3,"sources":["D:\\Cybersoft front end\\ReactJS\\Đồ án cuối khóa\\manage-courses\\src\\store\\action\\profile.acation.js"],"names":["Types","Profile","Redirect","Swal","profile","actGetInfoUser","userProfile","type","GET_INFO_USER","actGetInfoUserRequest","taiKhoan","dispatch","getProfile","then","res","data","catch","err","console","log","actEditProfile","user","EDIT_PROFILE","actEditProfileRequest","updateProfile","Toast","mixin","toast","position","showConfirmButton","timer","fire","title","alert"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,4BAAvB;AACA,SAASC,OAAT,QAAwB,+BAAxB;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AAEA,OAAOC,IAAP,MAAiB,aAAjB;AAGA,IAAMC,OAAO,GAAG,IAAIH,OAAJ,EAAhB;AACA,OAAO,IAAMI,cAAc,GAAG,SAAjBA,cAAiB,CAACC,WAAD,EAAiB;AAC3C,SAAO;AACHC,IAAAA,IAAI,EAAGP,KAAK,CAACQ,aADV;AAEHF,IAAAA,WAAW,EAAXA;AAFG,GAAP;AAIH,CALM;AAMP,OAAO,IAAMG,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAC,QAAQ,EAAI;AAC7C,SAAO,UAAAC,QAAQ,EAAI;AACf,WAAOP,OAAO,CAACQ,UAAR,CAAmBF,QAAnB,EACNG,IADM,CACA,UAAAC,GAAG,EAAI;AACVH,MAAAA,QAAQ,CAACN,cAAc,CAACS,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAf,CAAR;AACH,KAHM,EAINC,KAJM,CAIC,UAAAC,GAAG,EAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,KANM,CAAP;AAOH,GARD;AASH,CAVM;AAYP,OAAO,IAAMG,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,IAAI,EAAG;AACjC,SAAO;AACHd,IAAAA,IAAI,EAAGP,KAAK,CAACsB,YADV;AAEHD,IAAAA,IAAI,EAAJA;AAFG,GAAP;AAIH,CALM;AAMP,OAAO,IAAME,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAAF,IAAI,EAAI;AACzC,SAAO,UAAAV,QAAQ,EAAI;AACf,WAAOP,OAAO,CAACoB,aAAR,CAAsBH,IAAtB,EACNR,IADM,CACD,UAAAC,GAAG,EAAG;AAGRH,MAAAA,QAAQ,CAACS,cAAc,CAACC,IAAD,CAAf,CAAR;;AACA,UAAGP,GAAG,CAACC,IAAP,EAAY;AACR,YAAMU,KAAK,GAAGtB,IAAI,CAACuB,KAAL,CAAW;AACrBC,UAAAA,KAAK,EAAE,IADc;AAErBC,UAAAA,QAAQ,EAAE,SAFW;AAGrBC,UAAAA,iBAAiB,EAAE,KAHE;AAIrBC,UAAAA,KAAK,EAAE;AAJc,SAAX,CAAd;AAMAL,QAAAA,KAAK,CAACM,IAAN,CAAW;AACPxB,UAAAA,IAAI,EAAE,SADC;AAEPyB,UAAAA,KAAK,EAAE;AAFA,SAAX;AAIH;AACJ,KAjBM,EAkBNhB,KAlBM,CAkBC,UAAAC,GAAG,EAAI;AACXgB,MAAAA,KAAK,CAAC,aAAD,CAAL;AACH,KApBM,CAAP;AAqBH,GAtBD;AAuBH,CAxBM","sourcesContent":["import * as Types from './../constants/ActionTypes';\r\nimport { Profile } from \"./../../services/auth.service\";\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nconst profile = new Profile();\r\nexport const actGetInfoUser = (userProfile) => {\r\n    return {\r\n        type : Types.GET_INFO_USER,\r\n        userProfile,\r\n    } \r\n}\r\nexport const actGetInfoUserRequest = taiKhoan => {\r\n    return dispatch => {\r\n        return profile.getProfile(taiKhoan)\r\n        .then( res => {\r\n            dispatch(actGetInfoUser(res.data[0]));\r\n        })\r\n        .catch( err => {\r\n            console.log(err);  \r\n        })\r\n    }\r\n}\r\n\r\nexport const actEditProfile = user =>{\r\n    return {\r\n        type : Types.EDIT_PROFILE,\r\n        user\r\n    }\r\n}\r\nexport const actEditProfileRequest = user => {\r\n    return dispatch => {\r\n        return profile.updateProfile(user)\r\n        .then(res =>{\r\n            \r\n            \r\n            dispatch(actEditProfile(user));\r\n            if(res.data){\r\n                const Toast = Swal.mixin({\r\n                    toast: true,\r\n                    position: 'top-end',\r\n                    showConfirmButton: false,\r\n                    timer: 3000\r\n                });\r\n                Toast.fire({\r\n                    type: 'success',\r\n                    title: 'Change Profile Done !'\r\n                });\r\n            }\r\n        })\r\n        .catch( err => {\r\n            alert(\"Server fail\")            \r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}